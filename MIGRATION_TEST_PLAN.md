# 마이그레이션 시험 및 계획 문서

**작성일**: 2025-01-XX  
**기준 문서**: 
- 기능명세서: `C:\Users\hckim\frients\grouptest\workflow-automation\docs\기능명세서.md` (124개 기능)
- 시험절차서: `C:\Users\hckim\frients\grouptest\workflow-automation\docs\시험절차서.md` (100개 시험항목)
- API 매뉴얼: `C:\Users\hckim\frients\grouptest\workflow-automation\docs\API매뉴얼.md`

**원본 서비스**:
- Frontend URL: https://workflow.changups.kr
- Backend URL: https://workflow-backend-production-cdd6.up.railway.app
- 원본 소스: `C:\Users\hckim\frients\grouptest\workflow-automation`

---

## 1. 원본 서비스 기능 현황 분석

### 1.1 기능명세서 기반 기능 분류

#### 마케팅자동화 기능 (134개 기능 - 업그레이드 버전)

**참고**: 실제 서비스 시험 결과, 기존 기능명세서(v1.0)에 누락된 기능 10개 발견
- 워크플로우 폴더 관리: 5개
- 워크플로우 필터: 3개
- 워크플로우 복제: 1개
- 리스트 표시 형식 변경: 1개

**업그레이드 문서**: `UPGRADED_FEATURE_SPEC.md` 참조

| 카테고리 | 기능 수 | 주요 기능 |
|---------|--------|---------|
| 워크플로우 | 31개 | 목록, 생성, 수정, 삭제, 런칭/중지, 편집, **폴더 관리, 필터, 복제** |
| 조건 설정 | 8개 | 맞춤 이벤트, 리스트 조건 |
| 액션 설정 | 7개 | 리스트 액션, 웹훅 액션 |
| 리스트 관리 | 21개 | 목록(테이블 형식), 생성, 수정, 삭제, 대시보드 |
| 리드 관리 | 30개 | 테이블, 선택, 상세 패널, 추가/수정/삭제 |
| 가져오기/내보내기 | 4개 | CSV 가져오기, CSV 내보내기 |
| 로그 | 3개 | 이벤트 로그, 워크플로우 실행 로그 |
| UI 규칙 | 6개 | 드롭다운, 모달, 삭제 확인 등 |
| 기타 | 24개 | 페이지네이션, 상대 시간 표시 등 |

### 1.2 시험절차서 기반 검증 현황

**기존 시험 (v1.0)**:
| 구분 | 건수 | 비율 | 상태 |
|------|------|------|------|
| 통과 | 94건 | 94% | ✅ 안정적 |
| 확인필요 | 6건 | 6% | ⚠️ 페이지네이션 테스트 데이터 필요 |
| 탈락 | 0건 | 0% | ✅ 없음 |

**업그레이드 시험 (v2.0 - 예상)**:
| 구분 | 건수 | 비율 | 상태 |
|------|------|------|------|
| 통과 | 113건 | 95% | ✅ 예상 |
| 확인필요 | 6건 | 5% | ⚠️ 페이지네이션 테스트 데이터 필요 |
| 탈락 | 0건 | 0% | ✅ 예상 |

**총 시험 항목**: 119개 (기존 100개 + 추가 19개)

**확인필요 항목**:
- 페이지당 25명 표시 (테스트 데이터 25건 이상 필요)
- 페이지네이션 버튼 (페이지 2 이상 데이터 필요)

**추가 시험 항목**:
- 워크플로우 폴더 기능 (8개)
- 워크플로우 필터 기능 (6개)
- 워크플로우 복제 기능 (3개)
- 리스트 표시 형식 (2개)

### 1.3 API 엔드포인트 현황

| 카테고리 | 엔드포인트 수 | 주요 API |
|---------|--------------|---------|
| 워크플로우 | 5개 | GET/POST/PUT/DELETE /api/workflows |
| 리스트 | 5개 | GET/POST/PUT/DELETE /api/lists |
| 리스트 멤버 | 6개 | GET/POST/PUT/DELETE /api/lists/:id/members |
| 리드 | 4개 | GET/DELETE /api/leads/:email |
| 이벤트 | 3개 | GET/POST /api/events |
| 웹훅 | 2개 | POST /api/gtm-webhook, /api/test-webhook |
| 디버그 | 2개 | GET/DELETE /api/debug-logs |

**총 API 엔드포인트**: 27개

---

## 2. 마이그레이션 대상 기능 분석

### 2.1 cursorAI 담당 영역 (Notification)

**작업 범위**: `CURSORAI_PROMPT.md` 참조

| 기능 카테고리 | 기능 수 | 상태 | 우선순위 |
|-------------|--------|------|---------|
| 알림 템플릿 관리 | 5개 | ❌ 미구현 | 높음 |
| 알림 발송 | 4개 | ❌ 미구현 | 높음 |
| 발송 이력 조회 | 3개 | ❌ 미구현 | 중간 |
| 알림 설정 | 2개 | ❌ 미구현 | 낮음 |

**총 담당 기능**: 14개

### 2.2 claudeAI 담당 영역 (Marketing)

**작업 범위**: 기존 마케팅자동화 기능 마이그레이션 + 업그레이드 기능

| 기능 카테고리 | 기능 수 | 상태 | 비고 |
|-------------|--------|------|------|
| 워크플로우 | 31개 | ✅ 61% 완료 | Vue.js 변환 완료, **폴더/필터/복제 추가 필요** |
| 조건 설정 | 8개 | ✅ 구현됨 | 업그레이드 기능 포함 |
| 액션 설정 | 7개 | ✅ 구현됨 | 알림봇 액션 포함 |
| 리스트 관리 | 21개 | ✅ 구현됨 | **테이블 형식 확인 필요** |
| 리드 관리 | 30개 | ✅ 구현됨 | - |
| 가져오기/내보내기 | 4개 | ✅ 구현됨 | - |
| 로그 | 3개 | ❌ 미구현 | LogViewer.vue 필요 |
| AI 알림봇 | - | ❌ 미구현 | AIBot.vue 필요 |
| Backend API | 30개 | ❌ 2% 완료 | Spring Boot 필요, **폴더 API 추가 필요** |

**총 담당 기능**: 134개 (기존 124개 + 업그레이드 10개)

---

## 3. 시험절차서 기반 마이그레이션 검증 계획

### 3.1 Phase별 시험 계획

#### Phase 1: 기존 서비스 안정화 검증

**목표**: 원본 서비스 기능 검증 및 문서화

| 시험 항목 | 시험 절차 | 담당 | 예상 소요 |
|---------|----------|------|----------|
| 워크플로우 기능 (1.1~1.4) | 10개 항목 시험 | - | 30분 |
| 조건 설정 (2.1~2.2) | 8개 항목 시험 | - | 20분 |
| 액션 설정 (3.1~3.2) | 7개 항목 시험 | - | 20분 |
| 리스트 기능 (4.1~4.4) | 12개 항목 시험 | - | 40분 |
| 리스트 대시보드 (5.1~5.3) | 7개 항목 시험 | - | 30분 |
| 리드 테이블 (6.1~6.3) | 9개 항목 시험 | - | 30분 |
| 리드 상세 패널 (7.1~7.4) | 15개 항목 시험 | - | 40분 |
| 페이지네이션 (8.1~8.6) | 6개 항목 시험 | - | 20분 |
| UI 규칙 (9.1~9.5) | 5개 항목 시험 | - | 15분 |
| API 연동 (10.1~10.6) | 6개 항목 시험 | - | 20분 |

**총 예상 소요 시간**: 약 4시간

#### Phase 2: Backend 마이그레이션 검증

**목표**: Spring Boot 백엔드 API 호환성 검증

| 시험 항목 | 검증 방법 | 기준 |
|---------|----------|------|
| API 엔드포인트 호환성 | Postman/curl 테스트 | 기존 API와 동일 응답 |
| 데이터 형식 일치 | JSON 스키마 검증 | 기능명세서 기준 |
| 에러 처리 | 에러 응답 코드 검증 | HTTP 표준 준수 |
| 성능 테스트 | 응답 시간 측정 | 기존 대비 ±20% 이내 |

#### Phase 3: Frontend 마이그레이션 검증

**목표**: Vue.js 프론트엔드 기능 검증

| 시험 항목 | 검증 방법 | 기준 |
|---------|----------|------|
| UI/UX 일치 | 화면 비교 | 원본과 동일한 레이아웃 |
| 기능 동작 | 시험절차서 재실행 | 100개 항목 재검증 |
| 반응형 디자인 | 다양한 화면 크기 테스트 | 모바일/태블릿/데스크톱 |

#### Phase 4: 통합 테스트

**목표**: 전체 시스템 검증

| 시험 항목 | 검증 방법 | 기준 |
|---------|----------|------|
| End-to-End 테스트 | 실제 사용 시나리오 | 워크플로우 생성→실행→확인 |
| 데이터 마이그레이션 | SQLite → PostgreSQL | 데이터 무결성 검증 |
| 성능 벤치마크 | 부하 테스트 | 동시 사용자 100명 |

#### Phase 5: prealimbot 통합 검증

**목표**: 최종 통합 프로젝트 검증

| 시험 항목 | 검증 방법 | 기준 |
|---------|----------|------|
| notification 기능 | CursorAI 담당 기능 | 14개 기능 검증 |
| marketing 기능 | ClaudeAI 담당 기능 | 124개 기능 검증 |
| 공통 파일 통합 | 라우터, App.vue 통합 | 충돌 없음 |

---

## 4. 마이그레이션 우선순위 매트릭스

### 4.1 기능별 우선순위

| 우선순위 | 기준 | 기능 수 | 예상 소요 |
|---------|------|--------|----------|
| **P0 (긴급)** | 핵심 기능, 사용 빈도 높음 | 50개 | 2주 |
| **P1 (높음)** | 중요 기능, 사용 빈도 중간 | 40개 | 1.5주 |
| **P2 (중간)** | 일반 기능, 사용 빈도 낮음 | 30개 | 1주 |
| **P3 (낮음)** | 부가 기능, 선택적 | 4개 | 0.5주 |

### 4.2 P0 (긴급) 기능 목록

#### 워크플로우 핵심 기능 (21개)
- 워크플로우 목록/생성/수정/삭제
- 조건 설정 (맞춤 이벤트, 리스트)
- 액션 설정 (리스트, 웹훅)
- 런칭/중지
- **폴더 관리 (생성/수정/삭제/이동)**
- **필터 기능 (상태/폴더/검색)**
- **복제 기능**

#### 리스트 핵심 기능 (15개)
- 리스트 목록/생성/수정/삭제
- 리드 추가/수정/삭제
- 리드 불러오기/내보내기

#### 리드 관리 핵심 기능 (20개)
- 리드 테이블 표시
- 리드 선택/검색
- 리드 상세 패널 (이벤트/프로필/리스트 탭)

---

## 5. 시험 실행 체크리스트

### 5.1 사전 준비

- [ ] 원본 서비스 접속 확인 (https://workflow.changups.kr)
- [ ] 백엔드 서비스 접속 확인 (Railway)
- [ ] 테스트 계정 준비
- [ ] 테스트 데이터 준비 (리스트, 리드 25건 이상)
- [ ] 시험절차서 출력 또는 화면 분할

### 5.2 시험 실행

#### 워크플로우 기능 (섹션 1)
- [ ] 1.1 워크플로우 목록 (4개 항목)
- [ ] 1.2 워크플로우 생성 (6개 항목)
- [ ] 1.3 워크플로우 수정/삭제 (4개 항목)
- [ ] 1.4 워크플로우 런칭/중지 (3개 항목)

#### 조건 설정 (섹션 2)
- [ ] 2.1 맞춤 이벤트 조건 (4개 항목)
- [ ] 2.2 리스트 조건 (4개 항목)

#### 액션 설정 (섹션 3)
- [ ] 3.1 리스트 액션 (3개 항목)
- [ ] 3.2 웹훅 액션 (5개 항목)

#### 리스트 기능 (섹션 4)
- [ ] 4.1 리스트 목록 (6개 항목)
- [ ] 4.2 리스트 생성/수정/삭제 (6개 항목)
- [ ] 4.3 액션 드롭다운 (3개 항목)
- [ ] 4.4 검색 (2개 항목)

#### 리스트 대시보드 (섹션 5)
- [ ] 5.1 헤더 기능 (4개 항목)
- [ ] 5.2 리드 관리 버튼 (3개 항목)
- [ ] 5.3 리드 불러오기 모달 (7개 항목)

#### 리드 테이블 (섹션 6)
- [ ] 6.1 테이블 표시 (4개 항목)
- [ ] 6.2 선택 기능 (5개 항목)
- [ ] 6.3 액션 드롭다운 (4개 항목)

#### 리드 상세 패널 (섹션 7)
- [ ] 7.1 패널 표시 (4개 항목)
- [ ] 7.2 이벤트(행동) 탭 (5개 항목)
- [ ] 7.3 프로필 탭 (5개 항목)
- [ ] 7.4 리스트 탭 (5개 항목)

#### 페이지네이션 (섹션 8)
- [ ] 8.1~8.6 페이지네이션 버튼 (6개 항목)

#### UI 규칙 (섹션 9)
- [ ] 9.1~9.5 UI 규칙 (5개 항목)

#### API 연동 (섹션 10)
- [ ] 10.1~10.6 API 엔드포인트 (6개 항목)

### 5.3 시험 결과 기록

**시험 결과 템플릿**:

```markdown
## 시험 결과 - [날짜]

### 시험 환경
- 시험자: [이름]
- 시험 시간: [시작] ~ [종료]
- 브라우저: [Chrome/Firefox/Safari]
- OS: [Windows/Mac/Linux]

### 시험 결과 요약
| 구분 | 건수 | 비율 |
|------|------|------|
| 통과 | X건 | X% |
| 확인필요 | X건 | X% |
| 탈락 | X건 | X% |

### 발견된 이슈
1. [이슈 설명]
   - 항목: [시험 항목 번호]
   - 재현 방법: [단계별 설명]
   - 예상 원인: [추정]
   - 우선순위: [P0/P1/P2/P3]

### 개선 사항
1. [개선 제안]
```

---

## 6. 마이그레이션 일정 계획

### 6.1 전체 일정 (6주)

```
Week 1: 기존 서비스 안정화 및 검증
Week 2-3: Backend 마이그레이션 (Spring Boot)
Week 4: Frontend 완성 (Vue.js)
Week 5: 통합 테스트 & 배포
Week 6: prealimbot 통합
```

### 6.2 주간 상세 계획

#### Week 1: 기존 서비스 안정화 (2025-01-XX ~ 2025-01-XX)

| 일 | 작업 | 담당 | 산출물 |
|---|------|------|--------|
| 월 | 시험절차서 실행 (섹션 1-3) | - | 시험 결과 보고서 |
| 화 | 시험절차서 실행 (섹션 4-5) | - | 시험 결과 보고서 |
| 수 | 시험절차서 실행 (섹션 6-7) | - | 시험 결과 보고서 |
| 목 | 시험절차서 실행 (섹션 8-10) | - | 시험 결과 보고서 |
| 금 | 버그 수정 및 문서화 | - | 버그 수정 내역, 최종 보고서 |

#### Week 2-3: Backend 마이그레이션 (2025-01-XX ~ 2025-01-XX)

| 주 | 작업 | 담당 | 산출물 |
|---|------|------|--------|
| Week 2 | PostgreSQL 스키마 설계, Entity 생성 | ClaudeAI | DB 스키마, Entity 클래스 |
| Week 3 | Repository/Controller/Service 구현 | ClaudeAI | REST API 구현 완료 |

#### Week 4: Frontend 완성 (2025-01-XX ~ 2025-01-XX)

| 일 | 작업 | 담당 | 산출물 |
|---|------|------|--------|
| 월-화 | AIBot.vue 구현 | ClaudeAI | AIBot 컴포넌트 |
| 수-목 | LogViewer.vue 구현 | ClaudeAI | LogViewer 컴포넌트 |
| 금 | 웹훅 테스트 완성 | ClaudeAI | 웹훅 테스트 기능 |

#### Week 5: 통합 테스트 & 배포 (2025-01-XX ~ 2025-01-XX)

| 일 | 작업 | 담당 | 산출물 |
|---|------|------|--------|
| 월-화 | API 연동 테스트 | ClaudeAI | 통합 테스트 결과 |
| 수 | 시험절차서 재실행 | ClaudeAI | 재검증 결과 |
| 목 | Staging 배포 | - | Staging 환경 |
| 금 | Production 배포 | - | Production 환경 |

#### Week 6: prealimbot 통합 (2025-01-XX ~ 2025-01-XX)

| 일 | 작업 | 담당 | 산출물 |
|---|------|------|--------|
| 월-화 | cursorAI merge (notification) | CursorAI | notification 폴더 통합 |
| 수-목 | claudeAI merge (marketing) | ClaudeAI | marketing 폴더 통합 |
| 금 | 공통 파일 통합 및 최종 테스트 | - | 통합 완료 |

---

## 7. 리스크 관리

### 7.1 주요 리스크 및 대응 방안

| 리스크 | 영향도 | 발생 가능성 | 대응 방안 |
|-------|-------|------------|----------|
| Backend 마이그레이션 지연 | 높음 | 중간 | Node.js 백엔드 유지 옵션 준비 |
| 데이터 마이그레이션 실패 | 높음 | 낮음 | 백업 및 롤백 계획 수립 |
| API 호환성 이슈 | 중간 | 중간 | 기존 API 스펙 엄격히 준수 |
| 기능 누락 | 중간 | 낮음 | 시험절차서 기반 체계적 검증 |
| 성능 저하 | 중간 | 낮음 | 성능 벤치마크 수립 및 모니터링 |

### 7.2 대안 계획

**대안 A: Node.js Backend 유지**
- PostgreSQL로만 DB 마이그레이션
- 기존 Node.js 코드 재사용
- 예상 소요: 1주 단축

**대안 B: 점진적 마이그레이션**
- 핵심 기능만 먼저 마이그레이션
- 나머지 기능은 단계적 이전
- 예상 소요: 8주 (2주 연장)

---

## 8. 다음 단계 액션 아이템

### 즉시 실행 (이번 주)

1. **원본 서비스 시험 실행**
   - [ ] https://workflow.changups.kr 접속 확인
   - [ ] 시험절차서 섹션 1-3 실행
   - [ ] 시험 결과 기록

2. **테스트 데이터 준비**
   - [ ] 리스트 5개 이상 생성
   - [ ] 리드 25건 이상 추가 (페이지네이션 테스트용)
   - [ ] 워크플로우 3개 이상 생성

3. **Backend 방향 결정**
   - [ ] Option A: Node.js 유지 + PostgreSQL
   - [ ] Option B: Spring Boot 완전 재구현
   - [ ] 결정 사항 문서화

### 단기 실행 (다음 주)

1. **시험절차서 완료**
   - [ ] 섹션 4-10 시험 실행
   - [ ] 버그 목록 작성
   - [ ] 최종 시험 보고서 작성

2. **마이그레이션 계획 세부화**
   - [ ] Phase별 상세 작업 계획 수립
   - [ ] 리소스 할당 계획
   - [ ] 일정 확정

---

## 9. 참고 문서

### 원본 문서 (v1.0)
- 기능명세서: `C:\Users\hckim\frients\grouptest\workflow-automation\docs\기능명세서.md`
- 시험절차서: `C:\Users\hckim\frients\grouptest\workflow-automation\docs\시험절차서.md`
- API 매뉴얼: `C:\Users\hckim\frients\grouptest\workflow-automation\docs\API매뉴얼.md`

### 업그레이드 문서 (v2.0) ⭐ 신규
- **업그레이드 기능명세서**: `UPGRADED_FEATURE_SPEC.md` (134개 기능)
- **업그레이드 시험절차서**: `UPGRADED_TEST_PROCEDURE.md` (119개 시험 항목)

### 마이그레이션 계획 문서
- 마이그레이션 마스터 플랜: `C:\Users\hckim\frients_public\MIGRATION_MASTER_PLAN.md`
- Git 협업 계획: `C:\Users\hckim\frients_public\GIT_COLLABORATION_PLAN.md`
- CursorAI 작업 가이드: `C:\Users\hckim\frients_public\CURSORAI_PROMPT.md`

---

**문서 버전**: 1.0  
**최종 수정일**: 2025-01-XX  
**작성자**: Cursor AI

