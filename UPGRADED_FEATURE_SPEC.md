# 워크플로우 자동화 시스템 기능명세서 (업그레이드 버전)

**버전**: 2.0  
**최종 수정일**: 2025-01-XX  
**Frontend URL**: https://workflow.changups.kr  
**기준 문서**: `C:\Users\hckim\frients\grouptest\workflow-automation\docs\기능명세서.md` (v1.0)

---

## 변경 사항 요약

### 추가된 기능 (v2.0)

| 기능 카테고리 | 추가 기능 | 개수 |
|-------------|---------|------|
| 워크플로우 폴더 | 폴더 생성/수정/삭제, 워크플로우 폴더 이동 | 5개 |
| 워크플로우 필터 | 상태 필터 (라이브/초안), 폴더 필터 | 3개 |
| 워크플로우 복제 | 워크플로우 복제 기능 | 1개 |
| 리스트 표시 형식 | 테이블 형식 표시 (카드 → 테이블) | 1개 |

**총 추가 기능**: 10개  
**기존 기능**: 124개  
**업그레이드 후 총 기능**: 134개

---

## 추가된 기능 상세

### 1. 워크플로우 폴더 관리

| 서비스 | 기능 | 세부기능 | 세부기능설명 | 수행기능 | 생성일자 | 추가일자 |
|-------|-----|---------|------------|---------|---------|---------|
| 마케팅자동화 | 워크플로우 폴더 | 폴더 목록 | 워크플로우 폴더 목록 조회 | GET /api/folders | 2025-12-27 | 2025-01-XX |
| 마케팅자동화 | 워크플로우 폴더 | 폴더 생성 | 새 폴더 만들기 | POST /api/folders | 2025-12-27 | 2025-01-XX |
| 마케팅자동화 | 워크플로우 폴더 | 폴더 수정 | 폴더 이름 변경 | PUT /api/folders/:id | 2025-12-27 | 2025-01-XX |
| 마케팅자동화 | 워크플로우 폴더 | 폴더 삭제 | 폴더 삭제 (폴더 내 워크플로우는 폴더 없음으로 변경) | DELETE /api/folders/:id | 2025-12-27 | 2025-01-XX |
| 마케팅자동화 | 워크플로우 폴더 | 워크플로우 폴더 이동 | 워크플로우를 특정 폴더로 이동 | PUT /api/workflows/:id/folder | 2025-12-27 | 2025-01-XX |

### 2. 워크플로우 필터 기능

| 서비스 | 기능 | 세부기능 | 세부기능설명 | 수행기능 | 생성일자 | 추가일자 |
|-------|-----|---------|------------|---------|---------|---------|
| 마케팅자동화 | 워크플로우 필터 | 상태 필터 | 전체 상태 / 라이브 / 초안 필터링 | - | 2025-12-27 | 2025-01-XX |
| 마케팅자동화 | 워크플로우 필터 | 폴더 필터 | 전체 폴더 / 폴더 없음 / 특정 폴더 필터링 | - | 2025-12-27 | 2025-01-XX |
| 마케팅자동화 | 워크플로우 필터 | 검색 필터 | 워크플로우 이름으로 검색 | - | 2025-12-27 | 2025-01-XX |

### 3. 워크플로우 복제 기능

| 서비스 | 기능 | 세부기능 | 세부기능설명 | 수행기능 | 생성일자 | 추가일자 |
|-------|-----|---------|------------|---------|---------|---------|
| 마케팅자동화 | 워크플로우 | 워크플로우 복제 | 기존 워크플로우 복제 (이름에 "복사본" 추가) | POST /api/workflows/:id/duplicate | 2025-12-27 | 2025-01-XX |

### 4. 리스트 표시 형식 변경

| 서비스 | 기능 | 세부기능 | 세부기능설명 | 수행기능 | 생성일자 | 추가일자 |
|-------|-----|---------|------------|---------|---------|---------|
| 마케팅자동화 | 리스트 | 리스트 목록 | 생성된 리스트 **테이블 형태**로 표시 | GET /api/lists | 2025-12-27 | 2025-01-XX |

**변경 사항**: 기존 "카드 형태" → "테이블 형태"로 변경

---

## 업데이트된 데이터 모델

### 워크플로우 폴더 필드 정의

| 폴더항목변수명 | 폴더항목명 | DB 필드명 | 필수 | 설명 |
|---------------|-----------|-----------|------|------|
| id | ID | id | O | 폴더 식별자 (PK) |
| name | 이름 | name | O | 폴더 이름 |
| parent_id | 부모 폴더 ID | parent_id | | 상위 폴더 ID (계층 구조 지원) |
| created_at | 생성일시 | created_at | O | 폴더 생성 시간 |
| updated_at | 수정일시 | updated_at | O | 폴더 수정 시간 |

### 워크플로우 항목 필드 정의 (업데이트)

| 워크플로우항목변수명 | 워크플로우항목명 | DB 필드명 | 필수 | 설명 |
|----------------------|------------------|-----------|------|------|
| id | ID | id | O | 워크플로우 식별자 (PK) |
| name | 이름 | name | O | 워크플로우 이름 |
| event_name | 트리거이벤트 | event_name | O | 실행 트리거 이벤트 |
| is_launched | 런칭상태 | is_launched | O | 활성화 여부 (0/1) |
| folder_id | 폴더 ID | folder_id | | 소속 폴더 ID (NULL 가능) |
| conditions | 조건 | conditions | | 실행 조건 (JSON) |
| actions | 액션 | actions | | 실행 액션 (JSON) |

---

## 업데이트된 API 엔드포인트

### 폴더 API

| 메서드 | 엔드포인트 | 설명 |
|-------|-----------|------|
| GET | /api/folders | 폴더 목록 조회 |
| POST | /api/folders | 폴더 생성 |
| PUT | /api/folders/:id | 폴더 수정 |
| DELETE | /api/folders/:id | 폴더 삭제 |

### 워크플로우 API (추가)

| 메서드 | 엔드포인트 | 설명 |
|-------|-----------|------|
| POST | /api/workflows/:id/duplicate | 워크플로우 복제 |
| PUT | /api/workflows/:id/folder | 워크플로우 폴더 이동 |

---

## UI 변경 사항

### 워크플로우 목록 화면

**기존 (v1.0)**:
- 카드 형태로 표시
- 필터 없음

**업그레이드 (v2.0)**:
- 테이블 또는 카드 형태 (선택 가능)
- 상태 필터: 전체 상태 / 라이브 / 초안
- 폴더 필터: 전체 폴더 / 폴더 없음 / 특정 폴더
- 검색 필터: 워크플로우 이름 검색
- "+ 새 폴더" 버튼 추가

### 리스트 목록 화면

**기존 (v1.0)**:
- 카드 형태로 표시

**업그레이드 (v2.0)**:
- 테이블 형태로 표시
- 컬럼: 종류, 리스트 이름, 리드, 추가된 날짜, 생성된 날짜

---

## 마이그레이션 시 고려사항

### 1. 폴더 기능 마이그레이션

- **데이터베이스**: `workflow_folders` 테이블 생성 필요
- **API**: 폴더 CRUD API 구현 필요
- **Frontend**: 폴더 관리 UI 구현 필요

### 2. 필터 기능 마이그레이션

- **Frontend**: 필터 UI 컴포넌트 구현
- **Backend**: 필터링 쿼리 로직 구현

### 3. 복제 기능 마이그레이션

- **Backend**: 복제 API 구현 (기존 워크플로우 데이터 복사)
- **Frontend**: 복제 버튼 및 동작 구현

---

## 기능 통계

| 카테고리 | v1.0 | v2.0 추가 | v2.0 총계 |
|---------|------|----------|----------|
| 워크플로우 | 25개 | 6개 | 31개 |
| 조건 설정 | 8개 | 0개 | 8개 |
| 액션 설정 | 7개 | 0개 | 7개 |
| 리스트 관리 | 20개 | 1개 | 21개 |
| 리드 관리 | 30개 | 0개 | 30개 |
| 가져오기/내보내기 | 4개 | 0개 | 4개 |
| 로그 | 3개 | 0개 | 3개 |
| UI 규칙 | 6개 | 0개 | 6개 |
| 기타 | 21개 | 3개 | 24개 |
| **합계** | **124개** | **10개** | **134개** |

---

**문서 버전**: 2.0  
**최종 수정일**: 2025-01-XX  
**작성자**: Cursor AI (시험 기반 분석)

